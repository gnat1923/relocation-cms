{% extends "base.html" %}
{% import "bootstrap_wtf.html" as wtf %}

{% block content %}
<h1>Edit - {{ company.name }}</h1>
<form action="", method="POST">
    {{ form.hidden_tag() }}
    {{wtf.form_field(form.name)}}
    {{wtf.form_field(form.contact)}}
    {{wtf.form_field(form.address1)}}
    {{wtf.form_field(form.address2)}}
    {{wtf.form_field(form.postcode)}}
    {{wtf.form_field(form.city)}}
    {{wtf.form_field(form.notes)}}
    <br><hr>
    <table class="table table-striped table-sm">
        <thead>
            <th>Package</th>
            <th>Price</th>           
        </thead>
        <tbody>
            {% for package_form in form.packages %}
                <tr>
                    <td>{{package_form.package_name.data}}</td>
                    <td>{{package_form.price}}</td>
                    <td>{{ package_form.package_id.data }} </td>  
                </tr>
            {% endfor %}
        </tbody>

    </table>
    {{ form.submit(class_="btn btn-primary") }}
    <br><br>
    </form>
<hr>
<form action="", method="POST">
    {{ form.hidden_tag() }}
    <p>
        {{form.name.label }}
        {{ form.name(size=32) }}
        {% for error in form.name.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <p>
        {{form.contact.label }}
        {{ form.contact(size=32) }}
        {% for error in form.contact.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <p>
        {{form.address1.label }}
        {{ form.address1(size=32) }}
        {% for error in form.address1.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <p>
        {{form.address2.label }}
        {{ form.address2(size=32) }}
        {% for error in form.address2.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <p>
        {{form.postcode.label }}
        {{ form.postcode(size=32) }}
        {% for error in form.postcode.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <p>
        {{form.city.label }}
        {{ form.city(size=32) }}
        {% for error in form.city.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <p>
        {{form.notes.label }}
        {{ form.notes(size=32) }}
        {% for error in form.notes.errors %}
        <span style="color:red">[{{ error }}] </span>
        {% endfor %}
    </p>
    <h2>Package Prices</h2>
    <table>
        <tr>
            <th>Package</th>
            <th>Price</th>
            
        </tr>
        {% for package_form in form.packages %}
        <tr>
            <td>{{ package_form.package_name.data }}</td>
            <td>{{ package_form.price() }} </td>
            <td>{{ package_form.package_id.data }} </td>  
        </tr>
        {% endfor %}
    </table>
    <p>{{ form.submit() }} </p>
</form>
{% endblock %}